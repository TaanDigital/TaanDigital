---
// src/components/Hero.astro
import '../styles/hero.css';

interface HeroContent {
  title: string;
  description: string;
  primaryButton: {
    text: string;
    url: string;
  };
  secondaryButton: {
    text: string;
    url: string;
  };
}

const content: HeroContent = {
  title: "Transformamos Ideas en Éxito Digital",
  description: "Estar Aquí® es una agencia de marketing digital en México. Desde CDMX trabajamos con marcas y empresas en todo el mundo, creando estrategias digitales que generan resultados reales.",
  primaryButton: {
    text: "Comienza Ahora",
    url: "#servicios"
  },
  secondaryButton: {
    text: "Conoce Más",
    url: "#nosotros"
  }
};

// Verificar si existe la imagen de fondo
let hasBackgroundImage = false;
try {
  const imageUrl = new URL('/images/hero-bg.jpg', import.meta.url);
  hasBackgroundImage = true;
} catch (e) {
  console.warn('Hero background image not found');
}
---

<section class={`hero ${hasBackgroundImage ? 'has-bg' : ''}`} id="inicio">
  <div class="hero__content">
    <h1 class="hero__title">
      {content.title}
    </h1>
    <p class="hero__description">
      {content.description}
    </p>
    <div class="hero__buttons">
      <a 
        href={content.primaryButton.url} 
        class="hero__button hero__button--primary"
      >
        <span>{content.primaryButton.text}</span>
      </a>
      <a 
        href={content.secondaryButton.url} 
        class="hero__button hero__button--secondary"
      >
        {content.secondaryButton.text}
      </a>
    </div>
  </div>
  
  <a href="#servicios" class="hero__scroll-indicator">
    <span class="material-icons">expand_more</span>
  </a>
</section>

<script>
  // Smooth scroll para los enlaces del hero
  document.querySelectorAll('a[href^="#"]').forEach((anchor: Element) => {
    anchor.addEventListener('click', function(this: HTMLAnchorElement, e: Event) {
      e.preventDefault();
      const href = this.getAttribute('href');
      if (href) {
        const target = document.querySelector(href);
        if (target) {
          target.scrollIntoView({
            behavior: 'smooth',
            block: 'start'
          });
        }
      }
    });
  });

  // Efecto parallax en el fondo
  const hero = document.querySelector('.hero');
  if (hero instanceof HTMLElement) {
    window.addEventListener('scroll', () => {
      const scrolled = window.pageYOffset;
      const rate = scrolled * 0.5;
      hero.style.backgroundPositionY = `${rate}px`;
    });
  }
</script>

<style>
	.bg-hero {
	  background: linear-gradient(rgba(0, 0, 0, 0.6), rgba(0, 0, 0, 0.6)), 
				  url("/images/hero-bg.jpg") no-repeat center center;
	  background-size: cover;
	}
</style>